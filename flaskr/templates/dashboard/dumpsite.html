<!DOCTYPE html>
<html>
  <head>
    <title>Optimized Route</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
  </head>
  <body class="bg-[#fbf1c7] h-screen flex flex-col justify-between">
    <nav
      class="bg-[#ebdbb2] p-4 flex border border-b-black border-b-2 justify-evenly"
    >
      <a href="/" class="text-lg font-bold">WasteOptimizer</a>
      <ul class="flex gap-2 text-md lowercase">
        {% if g.user %}
        <li><span>{{ g.user['username'] }}</span></li>
        <li><a href="{{ url_for('auth.logout') }}">Log Out</a> {% else %}</li>

        <li><a href="{{ url_for('auth.register') }}">Register</a></li>
        <li>
          <a href="{{ url_for('auth.login') }}">Log In</a>
          {% endif %}
        </li>
      </ul>
    </nav>
    <main class="w-full h-full flex p-2">

      <section class="border rounded h-full w-1/6 flex justify-center">
        <ul class="flex gap-2 flex-col text-lg font-bold py-10">
          <li class=""><a href="/get_locations">Home</a></li>
          <li><a href="/report">Reports</a></li>
          <li><a href="/sensor">Bin Information</a></li>
          <li><a href="/locations">Locations</a></li>
          <li><a href="/dumpsite">Discover Dumpsites</a></li>
        </ul>
      </section>
<section class="flex justify-center items-center w-5/6 flex-col">
 
        <form action="/dumpsite" method="POST" enctype="multipart/form-data" class="flex flex-col bg-slate-300 rounded shadow-md p-4">
            <h2 class="font-bold text-2xl">Upload Satellite Image</h2>
            
            <label for="dump" class="text-lg">Select satellite image file:</label>
            <br>
            <input 
                type="file" 
                name="file" 
                id="dump" 
                class="file-input  border-2 border-black"
                accept=".png,.jpg,.jpeg,.gif,.tiff,.tif"
                required
            >
            
            
            <br>
            <button type="submit" class="bg-blue-800 p-2 text-white rounded">Upload Image</button>
        </form>
   {% if path %}
        <div class="mt-4 flex justify-center items-center flex-col">
          <h3 class="text-lg font-semibold mb-2">Preview:</h3>
	<img src="{{url_for('static', filename=path)}}" align="middle" class="max-w-1/2" />
        </div>
        {% endif %}
    </section>

<section>
</section>
    </main>
    <footer class="border border-t-2 bg-[#ebdbb2] p-2">
      <p>2024 Build-green</p>
    </footer>
  </body>
</html>
